# 사용중인 포트의 PID 확인(macOs) : lsof -i :7777
# 포트 죽이기 kill -9 PID

# 프로젝트 기본 인코딩 x-windows-949
# 설정파일만 UTF-8 로 지정

server:
  port: 7777 # 스프링 부트 내장 서버 포트

# JWT 설정
jwt:
  secret: NnRGaHZMb3p5ZVhDYXZ2V1ZaTlRkYm91aTBRcHJlNVJOSzRRMnNYdE1aR2k3b1JiVG9wZzNSclF1RmQ=
  expiration: 3600000

logging:
  level:
    root: INFO                     # 전체 로그 기본값
    org.springframework: INFO       # Spring MVC 등 핵심만
    org.springframework.cache: DEBUG # 캐시 hit/miss 를 로그로 남김
    org.hibernate.SQL: DEBUG        # ✅ 실행되는 SQL 로그 표시
    org.hibernate.type.descriptor.sql: TRACE  # ✅ SQL 파라미터 값 표시
    org.hibernate: WARN             # 나머지 Hibernate 내부 로그 억제
    com.zaxxer.hikari: WARN         # 커넥션풀 상태 로그 제거
    com.example: DEBUG              # 내 서비스 코드만 디버그로 유지
  pattern:
    console: "%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"

spring:
  security:
    oauth2:
      client:
        registration:
          kakao:
            client-id: 1ce171a97562a34a310da71b3b5cb94c
            client-secret: sUhXMy8wIkvcodCroxzmnYUTNgtOw6uQ
            redirect-uri: "{baseUrl}/oauth2/callback/{registrationId}"
            authorization-grant-type: authorization_code
            client-authentication-method: client_secret_post
            scope: profile_nickname
          naver:
            client-id: TZa2drL7pm0XUNsRHX1z
            client-secret: Z7Z_uhHQRV
            redirect-uri: http://localhost:7777/oauth2/callback/naver
            authorization-grant-type: authorization_code
            scope: email
        provider:
          kakao:
            authorization-uri: https://kauth.kakao.com/oauth/authorize
            token-uri: https://kauth.kakao.com/oauth/token
            user-info-uri: https://kapi.kakao.com/v2/user/me
            user-name-attribute: id
          naver:
            authorization-uri: https://nid.naver.com/oauth2.0/authorize
            token-uri: https://nid.naver.com/oauth2.0/token
            user-info-uri: https://openapi.naver.com/v1/nid/me
            user-name-attribute: response

  redis:
    redisson:
      file: classpath:redisson-test.yml

  cache:
    type: redis   # 스프링 캐시 저장소

  # Spring Data Redis 설정 (템블릿/캐싱 사용)
  data:
    redis:
      password: seven
      cluster:
        nodes:
          - 192.168.87.128:7001
          - 192.168.87.130:7002
          - 192.168.87.131:7003
          - 192.168.87.132:7004
          - 192.168.87.133:7005
          - 192.168.87.134:7006
        max-redirects: 5
      connect-timeout: 3000

  datasource:
    # mac
    # driver-class-name: oracle.jdbc.OracleDriver
    # url: jdbc:oracle:thin:@localhost:1521:XE
    # username: seven
    # password: seven

    # window
    #    driver-class-name: oracle.jdbc.OracleDriver
    #    url: jdbc:oracle:thin:@localhost:1521:orcl
    #    username: SEVEN
    #    password: SEVEN

    # vmware oracle 19.3c
    driver-class-name: oracle.jdbc.OracleDriver
    url: jdbc:oracle:thin:@192.168.87.129:1521/ORCLPDB1
    username: SEVEN
    password: SEVEN

    # 기본 커넥션풀 설정
    hikari:
      maximum-pool-size: 10        # 동시에 연결 유지할 커넥션 수
      minimum-idle: 5              # 유휴 커넥션 최소 유지 수
      connection-timeout: 30000    # 커넥션 대기 최대 시간 (ms)
      idle-timeout: 600000         # 유휴 상태 유지 시간 (ms)
      max-lifetime: 1800000        # 커넥션 최대 수명 (ms)


#  jpa:
#    show-sql: true
#    hibernate:
#      ddl-auto: none
#    properties:
#      hibernate:
#        show_sql: true
#        format_sql: true